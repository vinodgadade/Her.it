"use strict";$(document).ready(function(){var a=$(".customizer"),s=$("#landing_wrap");$(".change-bg"),$(".perfect-scrollbar, [data-perfect-scrollbar]").each(function(a){var s=$(this);new PerfectScrollbar(this,{suppressScrollX:s.data("suppress-scroll-x"),suppressScrollY:s.data("suppress-scroll-y")})}),AOS.init({duration:1200}),$(".handle").on("click",function(s){a.toggleClass("show")}),$(".change-bg").on("click",function(a){var r=$(this).attr("data-class");console.log(r);var l=s.attr("class");s.removeClass(l),s.addClass("landing-"+r)})}),$(window).on("load",function(){jQuery("#loader").fadeOut(),jQuery("#preloader").delay(500).fadeOut("slow")});

$('.scroll-to').click(function() {
    $('.menu-toggle').addClass("collapsed");
    $('.menu-toggle')[0].setAttribute("aria-expanded", false)
    $('.navbar-collapse').removeClass("show")
});

$('#send-email').click(function() {
    const status = validateForm()
});

function validateForm() {
    
    const name = $('.email-name').val();
    const subject = $('.email-subject').val();
    const email = $('.email-email').val();
    const message = $('.email-message').val();
    const phone = $('.email-phone').val();
    let flag = false;
    let errorMessage = 'Please fill out the details';
    if(name == "") {
        flag = true;
        errorMessage = "Name field Cannot be blank";
    }
    if(message == "") {
        flag = true;
        errorMessage = "Message Field Cannot be blank";
    }
    if(email == "") {
        flag = true;
        errorMessage = "Email Field Cannot be blank";
    }
    if(subject == "") {
        flag = true;
        errorMessage = "Subject Cannot be blank";
    }
    if(phone == "") {
        flag = true;
        errorMessage = "Phone Number Cannot be blank";
    }

    if(!flag) {
        var theUrl = "https://prkslrm3w8.execute-api.ap-south-1.amazonaws.com/senEmail";
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == XMLHttpRequest.DONE) {
                const response = JSON.parse(xmlhttp.responseText);
                const responseBody = JSON.parse(response.body);
                if(responseBody.status){
                        $('#success-alert').show(1000)
                }else {
                        $('#error-alert').show(1000)
                }
                setTimeout(() => {
                    $('#success-alert').hide(2000)
                    $('#error-alert').hide(2000)
                },5000)
            }
        }
        xmlhttp.open("POST", theUrl);
        xmlhttp.setRequestHeader("Content-Type", "application/json");
        xmlhttp.setRequestHeader("x-api-key", "05SSKArxU92kXNJvmJTRK5Cgh4388Zxh7EBcgKoj",);
        xmlhttp.send(JSON.stringify({ "name": name, "email": email, "subject": subject, "message": message, "phone": phone }));
    }else {
        alert(errorMessage)
    }
}
